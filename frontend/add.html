<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Lançar Dia | Franz Finance</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<script>
  function salvarDia() {
    const valor = document.getElementById('valor').value;
    if (!valor) return alert('Informe o valor');

    fetch('/lancar-dia', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ valor })
    })
      .then(res => {
        if (!res.ok) throw new Error();
        return res.json();
      })
      .then(() => {
        alert('Lançamento salvo!');
        window.location.href = 'dashboard.html';
      })
      .catch(() => alert('Erro ao salvar'));
  }
</script>


<div class="app">
  <header>
    <h1>Lançar Dia</h1>
  </header>

  <main>
    <div class="card">
      <input id="valor" type="number" placeholder="Lucro do dia (R$)">
      <button class="primary" onclick="salvarDia()">Salvar</button>
    </div>

    <button class="secondary" onclick="location.href='dashboard.html'">
      Voltar
    </button>
  </main>
</div>

<script>
  function salvarDia() {
    const valor = document.getElementById('valor').value;
    if (!valor) return alert('Informe o valor');

    localStorage.setItem('lucroDia', valor);
    alert('Dia salvo com sucesso!');
    window.location.href = 'dashboard.html';
  }
</script>

</body>
</html>
